<html>
<head>
    <link rel="stylesheet" href="file:///android_asset/designpattern.css" type="text/css" />
</head>
<body>
<p>Mediator pattern is used to reduce communication complexity between multiple objects or classes. This pattern provides a mediator class which normally handles all the communications between different classes and supports easy maintenance of the code by loose coupling. Mediator pattern falls under behavioral pattern category.</p>
<h2>Implementation</h2>
<p>We are demonstrating mediator pattern by example of a chat room where multiple users can send message to chat room and it is the responsibility of chat room to show the messages to all users. We have created two classes <i>ChatRoom</i> and <i>User</i>. <i>User</i> objects will use <i>ChatRoom</i> method to share their messages.</p>
<p><i>MediatorPatternDemo</i>, our demo class, will use <i>User</i> objects to show communication between them.</p>
<img src="file:///android_asset/mediator/mediator_pattern_uml_diagram.jpg" alt="Mediator Pattern UML Diagram" />
<h2>Step 1</h2>
<p>Create mediator class.</p>
<p><i>ChatRoom.java</i></p>
<pre class="prettyprint notranslate">
import java.util.Date;

public class ChatRoom {
   public static void showMessage(User user, String message){
      System.out.println(new Date().toString() + " [" + user.getName() + "] : " + message);
   }
}
</pre>
<h2>Step 2</h2>
<p>Create user class</p>
<p><i>User.java</i></p>
<pre class="prettyprint notranslate">
public class User {
   private String name;

   public String getName() {
      return name;
   }

   public void setName(String name) {
      this.name = name;
   }

   public User(String name){
      this.name  = name;
   }

   public void sendMessage(String message){
      ChatRoom.showMessage(this,message);
   }
}
</pre>
<h2>Step 3</h2>
<p>Use the <i>User</i> object to show communications between them.</p>
<p><i>MediatorPatternDemo.java</i></p>
<pre class="prettyprint notranslate">
public class MediatorPatternDemo {
   public static void main(String[] args) {
      User robert = new User("Robert");
      User john = new User("John");

      robert.sendMessage("Hi! John!");
      john.sendMessage("Hello! Robert!");
   }
}
</pre>
<h2>Step 4</h2>
<p>Verify the output.</p>
<pre class="result">
Thu Jan 31 16:05:46 IST 2013 [Robert] : Hi! John!
Thu Jan 31 16:05:46 IST 2013 [John] : Hello! Robert!
</pre>
</body>
</html>